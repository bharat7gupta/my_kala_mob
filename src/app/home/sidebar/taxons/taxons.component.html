<div class="filter-box">
  <div *ngFor="let taxonomy of taxonomies; let i = index">
    {{index}}
    <div [hidden]="i !== currentTaxonomyIndex">
      <h4 class="heading">Select {{taxonomy.name}}:</h4>
      <ul class="taxonomy">
        <li *ngFor="let taxon of taxonomy.taxons" class="filter">
          <label class="vertical-filters-label common-customCheckbox">  
          <input type="checkbox" [checked]="isChecked(taxonomy, taxon)" 
            (click)="taxonSelected(taxonomy, taxon, $event.target.checked)">  
            <span>{{taxon.name}}</span>
            <span class="taxon-count">({{taxon.count}})</span>
          <div class="common-checkboxIndicator" ></div>
        </label>
        </li>
      </ul>
    </div>
  </div>

  <br/>

  <div *ngIf="taxonomies.length!==0" class="text-center" style="margin-top: 30px;">
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <button class="btn btn-default" (click)="previousTaxonomy()" [disabled]="currentTaxonomyIndex===0">Back</button>
      </div>
      <div class="btn-group" *ngIf="currentTaxonomyIndex!==taxonomies.length-1">
        <button class="btn btn-primary" (click)="nextTaxonomy()">Next</button>
      </div>
      <div class="btn-group" *ngIf="currentTaxonomyIndex===taxonomies.length-1">
        <button class="btn btn-primary" (click)="showProducts()" [disabled]="!isFilterApplied">Show Products</button>
      </div> 
    </div>
  </div>
</div>